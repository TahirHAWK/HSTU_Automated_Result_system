<html lang="en">
    <%- include('./partials/head.ejs') %>

<body>
    <%- include('./partials/navbar.ejs') %>

  
  <div class="main">

    


    <h3>Welcome to Teachers Dashboard</h3>
    <h2>Course code: <%= course_code %></h2>

<hr>
    <table class="table table-sm table table-striped table table-hover">
        <thead>
          <% coursesData.forEach((courseData) => {  %>
            <% if(courseData.course_code == course_code){ %>
            <tr>
              <th scope="col">Course Title:</th>
              <th scope="col" style="color: blueviolet"><%= courseData.course_title %></th>
              <th scope="col">Credit hours:</th>
              <th scope="col" style="color: blueviolet"><%= courseData.credit %></th>
              <th scope="col">Full Marks:</th>
              <th scope="col" style="color: blueviolet">
                <% (  courseData.credit == 3 ) ? ( totalMarks = 150 ) :( (courseData.credit == 2 ) ? ( totalMarks = 100 ) :  (totalMarks = 100 )) %>
                <%= totalMarks %>
                
                </th>
              <th scope="col">Name of Examiner: </th>
              <th scope="col" style="color: blueviolet"><%= courseData.assignedTeacher %></th>

            </tr>
            <% } %>
          <% }) %>  
          <tr>
            <th scope="col">ID Number</th>
            <th scope="col">Attendance</th>
            <th scope="col">Class Test</th>
            <th scope="col">Mid</th>
            <th scope="col">Final(Section A)</th>
            <th scope="col">Final(Section B)</th>
            <th scope="col">Total</th>
            <th scope="col">Marks(%)</th>
            <th scope="col">Letter Grade</th>
            <th scope="col">Grade Point</th>
          </tr>
        </thead>
        <tbody>
            <% grade.forEach((grade) => { %>
          <tr>
            <th scope="row"><%= grade.ID_Number %></th>
            <td><%= grade.Attendance %></td>
            <td><%= grade.ClassTest %></td>
            <td><%= grade.Mid %></td>
            <td><%= grade.FinalA %></td>
            <td><%= grade.FinalB %></td>
            <td><%= grade.Total %></td>
            <td><%= grade.Marks %></td>
            <td><%= grade.LetterGrade %></td>
            <td><%= grade.GradePoint %></td>
          </tr>
          <% }) %>
          
        </tbody>
      </table>


      <% coursesData.forEach((courseData) => { %>

      <% if(courseData.course_code == course_code && courseData.finalSubmission == false){ %>
      <a href="/courses/grading/edit/<%= course_code %>/<%= courseData.credit %>"><button type="button" class="btn btn-outline-info">Assign or Edit Grades</button></a> 
      <% } else if(courseData.course_code == course_code) { %>
        <hr><a href="/"><button type="button" class="btn btn-outline-info">Back to Home</button></a>
      <% } %>    
        
      <% }) %>
      <%- include('./partials/footer.ejs') %>
  </div>
</body>
</html>